<!-- <p>all-products works!</p> -->
<app-header></app-header>
<div class="container-fluid" style="margin-top: 50px">
  <!-- Carousel -->
  <div
    id="carouselExampleIndicators"
    class="carousel slide"
    data-bs-ride="carousel"
  >
    <div class="carousel-indicators">
      <button
        type="button"
        data-bs-target="#carouselExampleIndicators"
        data-bs-slide-to="0"
        class="active"
        aria-current="true"
        aria-label="Slide 1"
      ></button>
      <button
        type="button"
        data-bs-target="#carouselExampleIndicators"
        data-bs-slide-to="1"
        aria-label="Slide 2"
      ></button>
      <button
        type="button"
        data-bs-target="#carouselExampleIndicators"
        data-bs-slide-to="2"
        aria-label="Slide 3"
      ></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img
          [src]="carouselImg1"
          class="d-block w-100"
          style="height: 400px"
          alt="..."
        />
      </div>
      <div class="carousel-item">
        <img
          [src]="carouselImg2"
          class="d-block w-100"
          style="height: 400px"
          alt="..."
        />
      </div>
      <div class="carousel-item">
        <img
          [src]="carouselImg3"
          class="d-block w-100"
          style="height: 400px"
          alt="..."
        />
      </div>
    </div>
    <button
      class="carousel-control-prev"
      type="button"
      data-bs-target="#carouselExampleIndicators"
      data-bs-slide="prev"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button
      class="carousel-control-next"
      type="button"
      data-bs-target="#carouselExampleIndicators"
      data-bs-slide="next"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  <!-- Items -->
  <div *ngIf="allProducts.length > 0" class="row mt-5">
    <div *ngFor="let product of allProducts" class="col-md-3 p-4">
      <div
        class="card shadow rounded-0 border-0"
        style="width: 100%"
      >
        <img
          routerLink="/view-product/{{product.id}}"
          [src]="product.image"
          class="card-img-top"
          alt="image"
          height="250px"
        />
        <div class="card-body">
          <h5 class="card-title">{{ product.title.slice(0, 25) }}...</h5>
          <p class="card-text">{{ product.description.slice(0, 60) }}...</p>
          <h5 class="card-text text-center">
            Price :
            <span class="text-primary fw-bold">$ {{ product.price }}</span>
          </h5>
          <div class="d-flex justify-content-between">
            <a (click)="addItemToWishlist(product)" class="btn btn-outline-danger"
              ><i class="fa-solid fa-heart"></i
            ></a>
            <a (click)="addToCart(product)" class="btn btn-outline-success"
              ><i class="fa-solid fa-cart-shopping"></i
            ></a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- If item not fetched -->
  <div *ngIf="allProducts.length == 0" class="row">
    <div class="col-md-4"></div>
    <div
      class="col-md-4 d-flex flex-column justify-content-center align-items-center"
    >
      <img [src]="loaderImg" alt="no image" width="100%" />
      <h1 class="text-danger">Loading...</h1>
    </div>
    <div class="col-md-4"></div>
  </div>
</div>
